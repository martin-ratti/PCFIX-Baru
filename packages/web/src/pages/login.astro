---
import Layout from '../layouts/Layout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import LoginForm from '../components/auth/LoginForm.tsx';
// Importamos el nuevo guardia
import GuestGuard from '../components/auth/GuestGuard.tsx';
---

<Layout title="PCFIX | Iniciar Sesión">
  <Header />
  
  <main class="container mx-auto px-6 py-12 flex justify-center items-center min-h-[60vh]">
    {/* Solo mostramos el form si NO está logueado */}
    <GuestGuard client:only="react">
      <LoginForm client:load />
    </GuestGuard>
  </main>

  <Footer />
</Layout>