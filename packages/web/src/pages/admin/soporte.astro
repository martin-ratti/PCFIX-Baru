---
export const prerender = false;

import Layout from '../../layouts/Layout.astro';
import Header from '../../components/ui/layout/Header.astro';
import Footer from '../../components/ui/layout/Footer.astro';
import AdminGuard from '../../components/guards/AdminGuard.tsx';
import SupportInbox from '../../components/admin/support/SupportInbox.tsx'; // Importar el nuevo componente
---

<Layout title="PCFIX | Soporte Técnico">
  <Header />
  
  <main class="container mx-auto px-6 py-12 bg-light min-h-screen">
    <AdminGuard client:only="react">
      <div class="mb-8">
        <a href="/admin" class="text-sm text-gray-500 hover:text-primary transition-colors mb-2 inline-flex items-center gap-1">&larr; Volver al Dashboard</a>
        <h1 class="text-3xl font-black text-primary">Bandeja de Soporte Técnico</h1>
        <p class="text-muted">Gestiona las consultas de reparación y presupuestos.</p>
      </div>

      <div class="max-w-5xl mx-auto">
         <SupportInbox client:load />
      </div>

    </AdminGuard>
  </main>

  <Footer />
</Layout>