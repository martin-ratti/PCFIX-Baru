---
import Layout from "../layouts/Layout.astro";
import ResetPasswordForm from "../components/store/auth/ResetPasswordForm";
import { BanIcon } from "../components/SharedIcons";

const token = Astro.url.searchParams.get("token") || "";
---

<Layout title="Restablecer Contraseña | PCFIX">
    <div
        class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden"
    >
        <div
            class="absolute inset-0 bg-grid-pattern opacity-5 pointer-events-none"
        >
        </div>
        {
            !token ? (
                <div class="text-center p-8 bg-white rounded-xl shadow-lg border border-red-100">
                    <div class="flex justify-center mb-4">
                        <BanIcon className="w-16 h-16 text-red-500" />
                    </div>
                    <h2 class="text-xl font-bold text-gray-800 mb-2">
                        Enlace inválido o expirado
                    </h2>
                    <p class="text-gray-500 mb-6">
                        No hemos encontrado un token válido en la URL.
                    </p>
                    <a
                        href="/auth/login"
                        class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-blue-700 transition"
                    >
                        Volver al Login
                    </a>
                </div>
            ) : (
                <ResetPasswordForm client:load token={token} />
            )
        }
    </div>
</Layout>
