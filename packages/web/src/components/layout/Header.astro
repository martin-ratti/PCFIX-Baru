---
import { Image } from 'astro:assets';
import logo from '../../assets/logo.png'; 
import CartIcon from '../cart/CartIcon.tsx'; 
import UserMenu from '../auth/UserMenu.tsx'; 
import AdminLinks from '../admin/AdminLinks.tsx';
import CategoryDropdown from './CategoryDropdown.tsx';
import PublicLinks from './PublicLinks.tsx'; // Nuevo
import SearchBar from '../shared/SearchBar.tsx';
---

<header class="bg-accent shadow-lg sticky top-0 z-50" transition:persist id="main-header">
  <nav class="container mx-auto px-6 py-3 flex justify-between items-center gap-4">
    
    {/* IZQUIERDA: Logo */}
    <div class="shrink-0 flex items-center gap-6">
      <a href="/">
        <Image src={logo} alt="PCFIX Logo" width="100" />
      </a>
      
      {/* Categor√≠as a la derecha del logo (Si no es admin) */}
      <CategoryDropdown client:load />
    </div>
    
    {/* CENTRO: Buscador */}
    <div class="flex-1 flex justify-center max-w-2xl mx-auto px-4">
      <SearchBar client:load />
      {/* Links Admin (Reemplazan al buscador si es admin) */}
      <AdminLinks client:load />
    </div>

    {/* DERECHA: Nosotros + Carrito + Usuario */}
    <div class="flex items-center gap-6 shrink-0">
      <PublicLinks client:load /> {/* Nosotros (Si no es admin) */}
      <CartIcon client:load />
      <UserMenu client:load />
    </div>
  </nav>
</header>